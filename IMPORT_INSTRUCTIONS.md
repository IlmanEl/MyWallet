# Инструкция по импорту исторических данных

## Что изменилось

### Формат дат:
1. **Старые записи** (которые импортируются из `import_historical_data.py`) - будут иметь только год: `2025`
2. **Новые записи** (которые вы будете добавлять через бота) - формат `ДД.ММ.ГГГГ` (например: `25.11.2024`)
3. **Никаких часов, минут, секунд** - только дата

### Как работают даты:
- Если вы ничего не указываете → используется сегодняшняя дата в формате `01.01.2026`
- Если вы указываете только год (например, `2025`) → сохраняется как `2025`
- Если вы указываете полную дату (`25.11.2024`) → сохраняется как `25.11.2024`
- Если вы указываете день и месяц (`25.11`) → автоматически добавляется текущий год

## Шаг 1: Проверьте .env файл

Убедитесь, что в файле `.env` указаны:
```
SUPABASE_URL=ваш_url
SUPABASE_SERVICE_ROLE_KEY=ваш_ключ
TELEGRAM_USER_ID=ваш_telegram_id
```

## Шаг 2: Запустите импорт

```bash
python import_historical_data.py
```

Скрипт автоматически:
1. Импортирует **111 транзакций** из ваших записей
2. Все записи будут иметь дату `2025` (просто год)
3. Подсчитает итоговую статистику

## Шаг 3: Проверьте результат

После импорта скрипт покажет:
- Количество импортированных транзакций
- Общую сумму доходов
- Общую сумму расходов
- Баланс

## Что входит в импорт:

### Проекты (доходы):
- 3D модели (первый проект)
- Мечеть Пророка
- AI Agent референдум
- Генетика (2 оплаты)
- Университет (предоплата 1800$)

### Основные расходы:
- Партнерам (доли Халиса)
- Переводы (Рахиму, Даше, отцу)
- Материалы для проектов
- Курсы и образование
- Здоровье (врачи, аптеки, анализы)
- Транспорт (машина, такси, автобусы)
- Рестораны и кафе
- Другие мелкие расходы

## Использование бота после импорта:

После того, как вы импортируете исторические данные, все новые записи через бота будут автоматически:
- Использовать формат даты `ДД.ММ.ГГГГ`
- Для голосовых сообщений - текущая дата
- Для фото чеков - текущая дата
- При ручном вводе - вы сможете указать дату или оставить текущую

## Примечания:

- Импорт можно запускать только один раз
- Если нужно будет запустить повторно, сначала удалите старые записи из базы
- Все суммы в гривнах (UAH), кроме проекта "Университет" (USD)
